<head>
  <!--The following 3 lines are an attempt to prevent caching. Ultimately they need to be removed from the distribution version-->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">

  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <style>
    body {
      margin: 0;
    }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
  <script src="//unpkg.com/three"></script>

  <script src="//unpkg.com/3d-force-graph"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <!-- drawer.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/drawer/3.2.2/css/drawer.min.css">
  <!-- jquery & iScroll -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/iScroll/5.2.0/iscroll.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/iScroll/5.2.0/iscroll-probe.min.js"></script>
  <!-- drawer.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/drawer/3.2.2/js/drawer.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet/less" type="text/css" href="css/drawer.less" />
  <script src="https://cdn.jsdelivr.net/npm/less@4.1.1"></script>


  <link rel="stylesheet" href="https://wikiki.github.io/css/documentation.css">
  </link>
</head>

<!-- right side drawer -->

<body class="drawer drawer--right" style="background-color: #E4E4E4;">
  <header role="banner">
    <nav class="drawer-nav">
      <ul class="drawer-menu">
        <div style="height: 3.25rem">
          <p></p>
        </div>
        <div style="position: relative;">
          <img class="storyImage" src="" style="display: block;">
          <img class="themeImage" src="" style="display: block; width: 50%;
          margin-left: auto;
          margin-right: auto;">
          <button class="button js-modal-trigger is-primary is-inverted" data-target="modal-js-example"
            style="position: absolute; bottom:0; left:0; background-color:transparent; display: block;">
            <span class="icon is-small is-primary">
              <i class="fa-solid fa-magnifying-glass"></i>
            </span>
          </button>
        </div>
        <div class="tile is-parent">
          <article class="tile is-child notification is-primary nodeTitle">
            <div class="content">

              <div class="title is-1">
                <i class="fa-solid fa-duotone fa-circle-info"></i>
                <div class="storyTitle" style="display:inline"></div>
              </div>

              <div class="subtitle is-3 storySubtitle"></div>

            </div>
          </article>
        </div>
        <section class="section storyText">
        </section>
      </ul>
    </nav>
  </header>

  <!-- Modal popup for image -->
  <div id="modal-js-example" class="modal">
    <div class="modal-background"></div>
    <div class="modal-content">
      <div class="box">
        <!-- Your content -->
        <figure class="image">
          <img class="storyImage" src="">
        </figure>
      </div>
    </div>
    <button class="modal-close is-large" aria-label="close"></button>
  </div>
  <script src="js/modal.js"></script>


  <!-- Navbar --> <iframe src="navbar.html"
    onload="this.insertAdjacentHTML('afterend', (this.contentDocument.body||this.contentDocument).innerHTML);this.remove()"></iframe>


  <!-- left side options -->
  <div class="tile is-ancestor">
    <div class="tile is-vertical is-3">
      <div class="tile" style="z-index:1">
        <div class=" tile is-parent is-vertical">
          <article class="tile is-child notification is-black">
            <p class="title">
              <span class="icon">
                <i class="fa-solid fa-share-nodes"></i>
              </span>&nbsp
              Story Graph
            </p>
            <p class="subtitle">3D Force-directed graph</p>
            <p class="content is-small">
              <i class="fa-solid fa-triangle-exclamation"></i> Image loading may be delayed due to github server speed.
            </p>
            <div class="content ">Graph <b>nodes</b> are participant's stories <i class="fa-solid fa-image"></i>
              and themes <i class="fa-solid fa-shapes"></i>.
              Click nodes to read more info about them in a side panel.
              <br>Graph <b>edges</b> <i class="fa-solid fa-link"></i> are links between stories and themes made from
              a three-stage "content analysis" coding:
              <ul>
                <li><span class="icon is-small is-primary">
                    <i class="fa-solid fa-play fa-rotate-270"></i>
                  </span> nodes & links were determined through thematic analysis of text and visuals</li>
                <li> <span class="icon is-small is-primary">
                    <i class="fa-solid fa-square"></i>
                  </span> nodes & links were determined by diffracting visuals through the thematic analysis</li>
                <li> <span class="icon is-small is-primary">
                    <i class="fa-solid fa-circle"></i>
                  </span> nodes & links are a combination of previous stages.</li>
              </ul>
            </div>
            <div class="is-divider"></div>
            Using
            <div class="select block is-rounded is-black is-small">
              <select id="codingDrop">
                <option value="1">First Coding</option>
                <option value="2">Second Coding</option>
                <option value="3" selected="selected"> Combined Coding</option>
              </select>
            </div>
            <br>
            Find Story
            <div class="select block is-rounded is-black is-small">
              <select id="searchDrop">
              </select>
            </div>

            <div class="field is-small">
              <input id="codingCheck" type="checkbox" name="switchRoundedOutlinedDefault" class="switch is-rounded">
              <label for="codingCheck">Connect participant's stories</label>
            </div>




            <!--   <div class="is-divider is-white"></div>
            <p class="subtitle">Debugging</p>
            <button type="button" class="drawer-toggle">Drawer toggle</button>
          -->

          </article>
        </div>
      </div>
    </div>
  </div>

  <main role="main">
    <div id="3d-graph" style="position:fixed; left:0; top:0;"></div>
  </main>

  <script src="js/nodeloader.js"></script>
  <script>
    $(document).ready(function () {
      $('.drawer').drawer({
        class: {
          nav: 'drawer-nav',
          toggle: 'drawer-toggle',
          overlay: 'drawer-overlay',
          open: 'drawer-open',
          close: 'drawer-close',
          dropdown: 'drawer-dropdown'
        },
        iscroll: {
          // Configuring the iScroll
          // https://github.com/cubiq/iscroll#configuring-the-iscroll
          mouseWheel: true,
          scrollbars: true,
          preventDefault: false
        },
        showOverlay: true
      })
    });
  </script>
</body>